<%- include("partials/header.ejs") %>

<% if(array && array.length > 0){ %>
    <div id="postsArrayContainer">
        <% array.forEach(function(post) { %>
            <div class="myContainer" id="homeContainerWPost">
                <div id="postForm">
                    <label name="postTitle"><h1><%= post.postTitle %></h1></label>
                    <label name="postContent"><p><%= post.postContent %></p></label>
                    
                    <div class="d-flex gap-2 justify-content-end">
                        <form action="/edit" method="POST">
                            <input type="hidden" name="postId" value="<%= post.id %>">
                            <button class="btn btn-outline-success" type="submit"> Edit </button>
                        </form>
                        <form action="/delete" method="POST">
                            <input type="hidden" name="postId" value="<%= post.id %>">
                            <button class="btn btn-outline-danger" type="submit"> Delete </button>
                        </form>
                    </div>
                    
                </div>
            </div> 
        <% }) %>
    </div>
<% } else { %>
    <div class="myContainer" id="homeContainer">
        <h1>Welcome to Fabians's blog! &#128640;</h1>
        <p>“Content is fire, social media is gasoline.” - <cite>Jay Baer</cite></p>
    </div>
<% } %>

<%- include("partials/footer.ejs") %>